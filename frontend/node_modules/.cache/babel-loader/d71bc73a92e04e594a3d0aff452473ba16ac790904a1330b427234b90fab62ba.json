{"ast":null,"code":"var _jsxFileName = \"/Users/tejas/Downloads/scholarship-finder-app-main/frontend/src/pages/RecommendationsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axiosInstance from '../utils/axiosInstance';\nimport ScholarshipCard from '../components/ScholarshipCard';\nimport { Box, Typography, CircularProgress, Container, Alert, TextField } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecommendationsPage = ({\n  isLoggedIn\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [recommendations, setRecommendations] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  useEffect(() => {\n    if (!isLoggedIn) {\n      navigate('/login', {\n        replace: true\n      });\n      return;\n    }\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const recRes = await axiosInstance.get('/scholarships/recommendations');\n        setRecommendations(recRes.data);\n        setFiltered(recRes.data);\n      } catch (err) {\n        var _err$response;\n        console.error('Error loading recommendations:', err);\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n          navigate('/login', {\n            replace: true\n          });\n        } else {\n          var _err$response2, _err$response2$data;\n          setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to load scholarships.');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [isLoggedIn, navigate]);\n  useEffect(() => {\n    if (!searchQuery.trim()) {\n      setFiltered(recommendations);\n      return;\n    }\n    const q = searchQuery.toLowerCase();\n    const filteredResults = recommendations.filter(s => (s.title || s.heading || '').toLowerCase().includes(q));\n    setFiltered(filteredResults);\n  }, [searchQuery, recommendations]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        textAlign: 'center',\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        textAlign: 'center',\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      my: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Scholarships Tailored for You\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Search scholarships\",\n        fullWidth: true,\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), filtered.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        mt: 2\n      },\n      children: \"No scholarships found matching your search.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'grid',\n        gap: 2,\n        gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))'\n      },\n      children: filtered.map(sch => /*#__PURE__*/_jsxDEV(ScholarshipCard, {\n        scholarship: sch,\n        showScore: true\n      }, sch._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(RecommendationsPage, \"9eNuQiGwpbCaxmrC2ceD8Zbe+SU=\", false, function () {\n  return [useNavigate];\n});\n_c = RecommendationsPage;\nexport default RecommendationsPage;\nvar _c;\n$RefreshReg$(_c, \"RecommendationsPage\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axiosInstance","ScholarshipCard","Box","Typography","CircularProgress","Container","Alert","TextField","jsxDEV","_jsxDEV","RecommendationsPage","isLoggedIn","_s","navigate","recommendations","setRecommendations","filtered","setFiltered","loading","setLoading","error","setError","searchQuery","setSearchQuery","replace","fetchData","recRes","get","data","err","_err$response","console","response","status","_err$response2","_err$response2$data","trim","q","toLowerCase","filteredResults","filter","s","title","heading","includes","sx","textAlign","mt","children","fileName","_jsxFileName","lineNumber","columnNumber","severity","my","variant","gutterBottom","mb","label","fullWidth","value","onChange","e","target","length","display","gap","gridTemplateColumns","map","sch","scholarship","showScore","_id","_c","$RefreshReg$"],"sources":["/Users/tejas/Downloads/scholarship-finder-app-main/frontend/src/pages/RecommendationsPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axiosInstance from '../utils/axiosInstance';\nimport ScholarshipCard from '../components/ScholarshipCard';\nimport {\n  Box,\n  Typography,\n  CircularProgress,\n  Container,\n  Alert,\n  TextField,\n} from '@mui/material';\n\nconst RecommendationsPage = ({ isLoggedIn }) => {\n  const navigate = useNavigate();\n  const [recommendations, setRecommendations] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    if (!isLoggedIn) {\n      navigate('/login', { replace: true });\n      return;\n    }\n\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const recRes = await axiosInstance.get('/scholarships/recommendations');\n        setRecommendations(recRes.data);\n        setFiltered(recRes.data);\n      } catch (err) {\n        console.error('Error loading recommendations:', err);\n        if (err.response?.status === 401) {\n          navigate('/login', { replace: true });\n        } else {\n          setError(err.response?.data?.error || 'Failed to load scholarships.');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [isLoggedIn, navigate]);\n\n  useEffect(() => {\n    if (!searchQuery.trim()) {\n      setFiltered(recommendations);\n      return;\n    }\n\n    const q = searchQuery.toLowerCase();\n    const filteredResults = recommendations.filter((s) =>\n      (s.title || s.heading || '').toLowerCase().includes(q)\n    );\n    setFiltered(filteredResults);\n  }, [searchQuery, recommendations]);\n\n  if (loading) {\n    return (\n      <Container sx={{ textAlign: 'center', mt: 4 }}>\n        <CircularProgress />\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container sx={{ textAlign: 'center', mt: 4 }}>\n        <Alert severity=\"error\">{error}</Alert>\n      </Container>\n    );\n  }\n\n  return (\n    <Container sx={{ my: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        Scholarships Tailored for You\n      </Typography>\n\n      <Box sx={{ mb: 3 }}>\n        <TextField\n          label=\"Search scholarships\"\n          fullWidth\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n      </Box>\n\n      {filtered.length === 0 ? (\n        <Typography sx={{ mt: 2 }}>\n          No scholarships found matching your search.\n        </Typography>\n      ) : (\n        <Box\n          sx={{\n            display: 'grid',\n            gap: 2,\n            gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n          }}\n        >\n          {filtered.map((sch) => (\n            <ScholarshipCard key={sch._id} scholarship={sch} showScore={true} />\n          ))}\n        </Box>\n      )}\n    </Container>\n  );\n};\n\nexport default RecommendationsPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,aAAa,MAAM,wBAAwB;AAClD,OAAOC,eAAe,MAAM,+BAA+B;AAC3D,SACEC,GAAG,EACHC,UAAU,EACVC,gBAAgB,EAChBC,SAAS,EACTC,KAAK,EACLC,SAAS,QACJ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvB,MAAMC,mBAAmB,GAAGA,CAAC;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EAC9C,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACe,eAAe,EAAEC,kBAAkB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACkB,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACsB,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAM,CAACwB,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAElDD,SAAS,CAAC,MAAM;IACd,IAAI,CAACc,UAAU,EAAE;MACfE,QAAQ,CAAC,QAAQ,EAAE;QAAEW,OAAO,EAAE;MAAK,CAAC,CAAC;MACrC;IACF;IAEA,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFN,UAAU,CAAC,IAAI,CAAC;QAChB,MAAMO,MAAM,GAAG,MAAM1B,aAAa,CAAC2B,GAAG,CAAC,+BAA+B,CAAC;QACvEZ,kBAAkB,CAACW,MAAM,CAACE,IAAI,CAAC;QAC/BX,WAAW,CAACS,MAAM,CAACE,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOC,GAAG,EAAE;QAAA,IAAAC,aAAA;QACZC,OAAO,CAACX,KAAK,CAAC,gCAAgC,EAAES,GAAG,CAAC;QACpD,IAAI,EAAAC,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,uBAAZA,aAAA,CAAcG,MAAM,MAAK,GAAG,EAAE;UAChCpB,QAAQ,CAAC,QAAQ,EAAE;YAAEW,OAAO,EAAE;UAAK,CAAC,CAAC;QACvC,CAAC,MAAM;UAAA,IAAAU,cAAA,EAAAC,mBAAA;UACLd,QAAQ,CAAC,EAAAa,cAAA,GAAAL,GAAG,CAACG,QAAQ,cAAAE,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAcN,IAAI,cAAAO,mBAAA,uBAAlBA,mBAAA,CAAoBf,KAAK,KAAI,8BAA8B,CAAC;QACvE;MACF,CAAC,SAAS;QACRD,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDM,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACd,UAAU,EAAEE,QAAQ,CAAC,CAAC;EAE1BhB,SAAS,CAAC,MAAM;IACd,IAAI,CAACyB,WAAW,CAACc,IAAI,CAAC,CAAC,EAAE;MACvBnB,WAAW,CAACH,eAAe,CAAC;MAC5B;IACF;IAEA,MAAMuB,CAAC,GAAGf,WAAW,CAACgB,WAAW,CAAC,CAAC;IACnC,MAAMC,eAAe,GAAGzB,eAAe,CAAC0B,MAAM,CAAEC,CAAC,IAC/C,CAACA,CAAC,CAACC,KAAK,IAAID,CAAC,CAACE,OAAO,IAAI,EAAE,EAAEL,WAAW,CAAC,CAAC,CAACM,QAAQ,CAACP,CAAC,CACvD,CAAC;IACDpB,WAAW,CAACsB,eAAe,CAAC;EAC9B,CAAC,EAAE,CAACjB,WAAW,EAAER,eAAe,CAAC,CAAC;EAElC,IAAII,OAAO,EAAE;IACX,oBACET,OAAA,CAACJ,SAAS;MAACwC,EAAE,EAAE;QAAEC,SAAS,EAAE,QAAQ;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAC,QAAA,eAC5CvC,OAAA,CAACL,gBAAgB;QAAA6C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX,CAAC;EAEhB;EAEA,IAAIhC,KAAK,EAAE;IACT,oBACEX,OAAA,CAACJ,SAAS;MAACwC,EAAE,EAAE;QAAEC,SAAS,EAAE,QAAQ;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAC,QAAA,eAC5CvC,OAAA,CAACH,KAAK;QAAC+C,QAAQ,EAAC,OAAO;QAAAL,QAAA,EAAE5B;MAAK;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9B,CAAC;EAEhB;EAEA,oBACE3C,OAAA,CAACJ,SAAS;IAACwC,EAAE,EAAE;MAAES,EAAE,EAAE;IAAE,CAAE;IAAAN,QAAA,gBACvBvC,OAAA,CAACN,UAAU;MAACoD,OAAO,EAAC,IAAI;MAACC,YAAY;MAAAR,QAAA,EAAC;IAEtC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,eAEb3C,OAAA,CAACP,GAAG;MAAC2C,EAAE,EAAE;QAAEY,EAAE,EAAE;MAAE,CAAE;MAAAT,QAAA,eACjBvC,OAAA,CAACF,SAAS;QACRmD,KAAK,EAAC,qBAAqB;QAC3BC,SAAS;QACTC,KAAK,EAAEtC,WAAY;QACnBuC,QAAQ,EAAGC,CAAC,IAAKvC,cAAc,CAACuC,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAELpC,QAAQ,CAACgD,MAAM,KAAK,CAAC,gBACpBvD,OAAA,CAACN,UAAU;MAAC0C,EAAE,EAAE;QAAEE,EAAE,EAAE;MAAE,CAAE;MAAAC,QAAA,EAAC;IAE3B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,gBAEb3C,OAAA,CAACP,GAAG;MACF2C,EAAE,EAAE;QACFoB,OAAO,EAAE,MAAM;QACfC,GAAG,EAAE,CAAC;QACNC,mBAAmB,EAAE;MACvB,CAAE;MAAAnB,QAAA,EAEDhC,QAAQ,CAACoD,GAAG,CAAEC,GAAG,iBAChB5D,OAAA,CAACR,eAAe;QAAeqE,WAAW,EAAED,GAAI;QAACE,SAAS,EAAE;MAAK,GAA3CF,GAAG,CAACG,GAAG;QAAAvB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAsC,CACpE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAEhB,CAAC;AAACxC,EAAA,CAnGIF,mBAAmB;EAAA,QACNX,WAAW;AAAA;AAAA0E,EAAA,GADxB/D,mBAAmB;AAqGzB,eAAeA,mBAAmB;AAAC,IAAA+D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}